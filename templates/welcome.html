<script>
document.getElementById('startForm').onsubmit = function() {
    const experimentData = {
        participant_id: "user_" + Math.random().toString(36).substr(2, 9),
        start_time: new Date().toLocaleString(),
        topics_data: {} // ç”¨äºæŒ‰è¯é¢˜å­˜å‚¨æ•°æ®
    };
    localStorage.setItem('all_exp_data', JSON.stringify(experimentData));
};
</script>

{% extends "layout.html" %}

{% block content %}
    <span class="icon-large">ğŸ‘‹</span>
    <h1>æ¬¢è¿å‚åŠ å®éªŒ</h1>
    
    <p>æ‚¨å¥½ï¼æ„Ÿè°¢æ‚¨å‚ä¸æœ¬æ¬¡å…³äº<b>ç¤¾ä¼šè®®é¢˜ä¸ä¸ªäººè§‚ç‚¹</b>çš„è®¤çŸ¥ç ”ç©¶ã€‚</p>
    
    <div style="text-align: left; background: #f9f9f9; padding: 25px; border-radius: 8px; margin: 30px 0;">
        <p style="margin-top: 0; font-weight: bold; color: var(--text-main);">å®éªŒæµç¨‹è¯´æ˜ï¼š</p>
        <ul style="margin: 0; padding-left: 20px; color: var(--text-sub);">
            <li style="margin-bottom: 8px;">å®éªŒåŒ…å« <b>3 ä¸ªä¸åŒçš„è¯é¢˜</b>è®¨è®ºã€‚</li>
            <li style="margin-bottom: 8px;">æ¯ä¸ªè¯é¢˜æµç¨‹ï¼š<b>è§‚ç‚¹é¢„è¯„ä¼°ï¼ˆæ‚¨è®¤ä¸ºè‡ªå·±åœ¨æ•´ä½“äººç¾¤ä¸­å¤„äºå“ªä¸ªä½ç½®ï¼Ÿï¼‰â†’ ç®€å•çš„äº’åŠ¨è®¨è®º â†’ è§‚ç‚¹åè¯„ä¼°</b>ã€‚</li>
            <li style="margin-bottom: 8px;">æ•´ä¸ªè¿‡ç¨‹é¢„è®¡è€—æ—¶ 45-60 åˆ†é’Ÿã€‚</li>
            <li>æ‚¨çš„å›ç­”å°†ä¸¥æ ¼åŒ¿åï¼Œä»…ç”¨äºå­¦æœ¯ç»Ÿè®¡ã€‚</li>
        </ul>
    </div>
    
    <p style="font-size: 0.9em; color: #b2bec3;">è¯·å‹¿åˆ·æ–°æµè§ˆå™¨ï¼Œä»¥å…è¿›åº¦ä¸¢å¤±ã€‚</p>

    <form action="/start" method="POST" id="startForm">
        <button type="submit" class="btn">å¼€å§‹å®éªŒ</button>
    </form>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('startForm').addEventListener('submit', function(e) {
    e.preventDefault();
    fetch('/start', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({})
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            window.location.href = data.redirect || '/experiment';
        }
    });
});
</script>
{% endblock %}
